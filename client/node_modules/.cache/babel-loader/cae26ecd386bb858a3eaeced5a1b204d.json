{"ast":null,"code":"\"use strict\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : new P(function (resolve) {\n        resolve(result.value);\n      }).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst chain_1 = require(\"../chain\");\n\nconst utils_1 = require(\"../utils\");\n\nconst context_builder_1 = require(\"../context-builder\");\n\nfunction sanitize(fields = '', locations = []) {\n  const builder = new context_builder_1.ContextBuilder().setFields(Array.isArray(fields) ? fields : [fields]).setLocations(locations);\n  const runner = new chain_1.ContextRunnerImpl(builder);\n\n  const middleware = (req, _res, next) => __awaiter(this, void 0, void 0, function* () {\n    try {\n      yield runner.run(req);\n      next();\n    } catch (e) {\n      next(e);\n    }\n  });\n\n  return Object.assign(middleware, utils_1.bindAll(runner), utils_1.bindAll(new chain_1.SanitizersImpl(builder, middleware)), {\n    builder\n  });\n}\n\nexports.sanitize = sanitize;","map":{"version":3,"sources":["C:/Users/kevin/Documents/Web Development Projects/Contact-Keeper-/node_modules/express-validator/src/middlewares/sanitize.js"],"names":["__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","Object","defineProperty","exports","chain_1","require","utils_1","context_builder_1","sanitize","fields","locations","builder","ContextBuilder","setFields","Array","isArray","setLocations","runner","ContextRunnerImpl","middleware","req","_res","run","assign","bindAll","SanitizersImpl"],"mappings":"AAAA;;AACA,IAAIA,SAAS,GAAI,QAAQ,KAAKA,SAAd,IAA4B,UAAUC,OAAV,EAAmBC,UAAnB,EAA+BC,CAA/B,EAAkCC,SAAlC,EAA6C;AACrF,SAAO,KAAKD,CAAC,KAAKA,CAAC,GAAGE,OAAT,CAAN,EAAyB,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AACvD,aAASC,SAAT,CAAmBC,KAAnB,EAA0B;AAAE,UAAI;AAAEC,QAAAA,IAAI,CAACN,SAAS,CAACO,IAAV,CAAeF,KAAf,CAAD,CAAJ;AAA8B,OAApC,CAAqC,OAAOG,CAAP,EAAU;AAAEL,QAAAA,MAAM,CAACK,CAAD,CAAN;AAAY;AAAE;;AAC3F,aAASC,QAAT,CAAkBJ,KAAlB,EAAyB;AAAE,UAAI;AAAEC,QAAAA,IAAI,CAACN,SAAS,CAAC,OAAD,CAAT,CAAmBK,KAAnB,CAAD,CAAJ;AAAkC,OAAxC,CAAyC,OAAOG,CAAP,EAAU;AAAEL,QAAAA,MAAM,CAACK,CAAD,CAAN;AAAY;AAAE;;AAC9F,aAASF,IAAT,CAAcI,MAAd,EAAsB;AAAEA,MAAAA,MAAM,CAACC,IAAP,GAAcT,OAAO,CAACQ,MAAM,CAACL,KAAR,CAArB,GAAsC,IAAIN,CAAJ,CAAM,UAAUG,OAAV,EAAmB;AAAEA,QAAAA,OAAO,CAACQ,MAAM,CAACL,KAAR,CAAP;AAAwB,OAAnD,EAAqDO,IAArD,CAA0DR,SAA1D,EAAqEK,QAArE,CAAtC;AAAuH;;AAC/IH,IAAAA,IAAI,CAAC,CAACN,SAAS,GAAGA,SAAS,CAACa,KAAV,CAAgBhB,OAAhB,EAAyBC,UAAU,IAAI,EAAvC,CAAb,EAAyDS,IAAzD,EAAD,CAAJ;AACH,GALM,CAAP;AAMH,CAPD;;AAQAO,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEX,EAAAA,KAAK,EAAE;AAAT,CAA7C;;AACA,MAAMY,OAAO,GAAGC,OAAO,CAAC,UAAD,CAAvB;;AACA,MAAMC,OAAO,GAAGD,OAAO,CAAC,UAAD,CAAvB;;AACA,MAAME,iBAAiB,GAAGF,OAAO,CAAC,oBAAD,CAAjC;;AACA,SAASG,QAAT,CAAkBC,MAAM,GAAG,EAA3B,EAA+BC,SAAS,GAAG,EAA3C,EAA+C;AAC3C,QAAMC,OAAO,GAAG,IAAIJ,iBAAiB,CAACK,cAAtB,GACXC,SADW,CACDC,KAAK,CAACC,OAAN,CAAcN,MAAd,IAAwBA,MAAxB,GAAiC,CAACA,MAAD,CADhC,EAEXO,YAFW,CAEEN,SAFF,CAAhB;AAGA,QAAMO,MAAM,GAAG,IAAIb,OAAO,CAACc,iBAAZ,CAA8BP,OAA9B,CAAf;;AACA,QAAMQ,UAAU,GAAG,CAACC,GAAD,EAAMC,IAAN,EAAY3B,IAAZ,KAAqBX,SAAS,CAAC,IAAD,EAAO,KAAK,CAAZ,EAAe,KAAK,CAApB,EAAuB,aAAa;AACjF,QAAI;AACA,YAAMkC,MAAM,CAACK,GAAP,CAAWF,GAAX,CAAN;AACA1B,MAAAA,IAAI;AACP,KAHD,CAIA,OAAOC,CAAP,EAAU;AACND,MAAAA,IAAI,CAACC,CAAD,CAAJ;AACH;AACJ,GARgD,CAAjD;;AASA,SAAOM,MAAM,CAACsB,MAAP,CAAcJ,UAAd,EAA0Bb,OAAO,CAACkB,OAAR,CAAgBP,MAAhB,CAA1B,EAAmDX,OAAO,CAACkB,OAAR,CAAgB,IAAIpB,OAAO,CAACqB,cAAZ,CAA2Bd,OAA3B,EAAoCQ,UAApC,CAAhB,CAAnD,EAAqH;AAAER,IAAAA;AAAF,GAArH,CAAP;AACH;;AACDR,OAAO,CAACK,QAAR,GAAmBA,QAAnB","sourcesContent":["\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst chain_1 = require(\"../chain\");\nconst utils_1 = require(\"../utils\");\nconst context_builder_1 = require(\"../context-builder\");\nfunction sanitize(fields = '', locations = []) {\n    const builder = new context_builder_1.ContextBuilder()\n        .setFields(Array.isArray(fields) ? fields : [fields])\n        .setLocations(locations);\n    const runner = new chain_1.ContextRunnerImpl(builder);\n    const middleware = (req, _res, next) => __awaiter(this, void 0, void 0, function* () {\n        try {\n            yield runner.run(req);\n            next();\n        }\n        catch (e) {\n            next(e);\n        }\n    });\n    return Object.assign(middleware, utils_1.bindAll(runner), utils_1.bindAll(new chain_1.SanitizersImpl(builder, middleware)), { builder });\n}\nexports.sanitize = sanitize;\n"]},"metadata":{},"sourceType":"script"}